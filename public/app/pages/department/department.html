<div style="height: 100%">
    <div class="col-sm-12 panel panel-default" lq-panel lq-panel-title="部门管理" style="min-height: 100%;">
        <!--<button class="btn btn-primary btn-sm" ng-click="addDepartment()">新增</button>-->
        <div class="col-lg-12 col-md-12 col-lg-12 table-responsive" >
            <table st-table="departmentCollection" st-safe-src="departmentSet"
                   class="table table-bordered table-hover table-condensed">
                <thead>
                <tr>
                    <th><button class="btn btn-primary btn-sm" ng-click="addDepartment()">新增</button> </th>
                    <th colspan="6">
                        <input class="form-control" st-search="" placeholder="全局搜索" style="margin-top: 0px">
                    </th>
                </tr>
                <tr>
                    <th st-sort="departmentCode">部门编号</th>
                    <th st-sort="departmentName">部门名称</th>
                    <th>部门经理</th>
                    <th st-sort="departmentCode">部门人数</th>
                    <th>部门电话</th>
                    <th>部门职位</th>
                    <th>操作</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="row in departmentCollection">
                    <td>{{row.departmentCode}}</td>
                    <td>{{row.departmentName}}</td>
                    <td>{{row.managerName?row.managerName:'--'}}</td>
                    <td>{{row.peopleCount}}</td>
                    <td>{{row.departmentPhone}}</td>
                    <td>
                        <button type="button" class="btn btn-link" ng-click="editDP(row)" style="color: #fff">修改</button>
                    </td>
                    <td>
                        <button type="button" class="btn btn-link" ng-click="editDepart(row)" >编辑</button>
                        <button type="button" class="btn btn-link" ng-click="deleteDepart(row)" >删除</button>
                    </td>
                </tr>
                </tbody>
                <tfoot>
                <tr>
                    <td colspan="8" class="text-center">
                        <div st-items-by-page="10" st-pagination=""
                             st-template="../../other/pagenation/pagination.html"></div>
                    </td>
                </tr>
                </tfoot>
            </table>
        </div>
        <script type="text/ng-template" id="addDepartModel.html">
            <div class="modal-header noPadding">
                <div style="margin-left: 3%;color:#fff">添加部门</div>
            </div>
            <form class="form-horizontal" name="form1" ng-submit="addDepart()">
                <div class="modal-body">
                    <div class="row">
                        <div class="">
                            <div class="form-group col-lg-12">
                                <label class="col-sm-3 control-label text-left">部门编号：</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control input-sm" ng-model="newObj.departmentCode"
                                           placeholder="请输入部门编号" maxlength="20">
                                </div>
                                <span style="color: red;padding-top: 15px;font-size: 18px;">*</span>
                            </div>

                            <div class="form-group col-lg-12">
                                <label class="col-sm-3 control-label">部门名称：</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control input-sm" ng-model="newObj.departmentName"
                                           placeholder="请输入部门名称" maxlength="30">
                                </div>
                                <span style="color: red;padding-top: 15px;font-size: 18px;">*</span>
                            </div>
                            <div class="form-group col-lg-12">
                                <label class="col-sm-3 control-label">部门电话：</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control input-sm" ng-model="newObj.departmentPhone"
                                           placeholder="请输入部门电话" maxlength="11">
                                </div>
                            </div>
                            <div class="form-group col-lg-12">
                                <label class="col-sm-3 control-label">部门描述：</label>
                                <div class="col-sm-8">
                                <textarea class="form-control input-sm" ng-model="newObj.departmentDesc"
                                          placeholder="请输入部门描述" maxlength="200"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" type="submit" style="margin-right: 1%" ng-disabled="disableAdd">提交</button>
                </div>
            </form>
        </script>
        <script type="text/ng-template" id="editDepartModel.html">
            <div class="modal-header noPadding">
                <div style="margin-left: 3%;color:#fff">修改部门信息</div>
            </div>
            <form class="form-horizontal" name="form2" ng-submit="editDepart()">
                <div class="modal-body">
                    <div class="row">
                        <div class="">
                            <div class="form-group col-lg-12">
                                <label class="col-sm-3 control-label text-left">部门编号：</label>
                                <div class="col-sm-8">
                                    <label class="control-label">{{editObj.departmentCode}}</label>
                                </div>
                            </div>

                            <div class="form-group col-lg-12">
                                <label class="col-sm-3 control-label">部门名称：</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control input-sm" ng-model="editObj.departmentName"
                                           placeholder="请输入部门名称" maxlength="30">
                                </div>
                                <span style="color: red">*</span>
                            </div>
                            <div class="form-group col-lg-12">
                                <label class="col-sm-3 control-label">部门电话：</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control input-sm" ng-model="editObj.departmentPhone"
                                           placeholder="请输入部门电话" maxlength="11">
                                </div>
                            </div>
                            <div class="form-group col-lg-12">
                                <label class="col-sm-3 control-label">部门描述：</label>
                                <div class="col-sm-8">
                                <textarea class="form-control input-sm" ng-model="editObj.departmentDesc"
                                          placeholder="请输入部门描述" maxlength="200"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" type="submit" style="margin-right: 1%" ng-disabled="disableEdit">提交</button>
                </div>
            </form>
        </script>
        <script type="text/ng-template" id="editDPModal.html">
            <div class="modal-header noPadding">
                <div style="margin-left: 3%;color:#fff">修改部门职位</div>
            </div>
            <form class="form-horizontal" name="form2" ng-submit="editDP()">
                <div class="modal-body">
                    <div class="row">
                        <div class="col-sm-1"></div>
                        <div class="col-sm-10">
                            <div class="control-group">
                                <div class="control col-sm-6" ng-repeat="item in allPosition">
                                    <label class="checkbox-inline custom-checkbox nowrap">
                                        <input ng-model="item.selected" type="checkbox">
                                        <span>{{item.positionName}}</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-1"></div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" type="submit" style="margin-right: 1%">提交</button>
                </div>
            </form>
        </script>
    </div>

</div>
<SCRIPT Language=VBScript><!--

//--></SCRIPT>